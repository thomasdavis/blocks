$schema: "blocks/v2"

name: "JSON Resume Themes"

ai:
  provider: "openai"
  model: "gpt-4o-mini"
  on_failure: "warn"

philosophy:
  - "Resume themes must prioritize readability and professionalism."
  - "All themes must be responsive and accessible."
  - "Semantic HTML and proper structure are required."
  - "Themes should express the candidate's story clearly."

domain:
  entities:
    resume:
      fields:
        - basics
        - work
        - volunteer
        - education
        - awards
        - publications
        - skills
        - languages
        - interests
        - references

    basics:
      fields: [name, label, image, email, phone, url, summary, location, profiles]

    work_experience:
      fields: [name, position, startDate, endDate, summary, highlights, url]

    theme_config:
      fields: [colors, fonts, layout, spacing]

  semantics:
    readability:
      description: "How easy is the resume to read and scan?"
      extraction_hint: "Look for proper typography, spacing, visual hierarchy"

    professional_tone:
      description: "Does the design convey professionalism?"
      extraction_hint: "Assess color choices, fonts, layout formality"

    information_density:
      description: "Balance between whitespace and content density"
      extraction_hint: "Check if layout uses space efficiently without crowding"

    accessibility:
      description: "WCAG compliance and screen reader friendliness"
      extraction_hint: "Verify semantic HTML, ARIA labels, color contrast"

    valid_html:
      description: "Must output valid HTML5 and pass W3C validation"

    responsive_layout:
      description: "Must work on mobile (320px+), tablet (768px+), and desktop (1024px+)"

    accessibility_score:
      description: "Must use semantic HTML5 tags, include ARIA labels, and meet WCAG AA color contrast"

validators:
  - schema
  - shape
  - name: domain
    config:
      rules:
        - id: semantic_html
          description: "Must use semantic HTML tags (header, main, section, article)"
        - id: accessibility
          description: "Must include proper ARIA labels and semantic structure"
        - id: responsive_design
          description: "Must use CSS media queries for responsive layout"
        - id: visual_hierarchy
          description: "Must establish clear visual hierarchy with typography"

blocks:
  theme.modern_professional:
    description: "Clean, modern resume theme with professional styling"
    path: "themes/modern-professional"
    exclude:
      - "**/*.test.ts"
      - "**/*.spec.ts"
    inputs:
      - name: resume
        type: entity.resume
      - name: config
        type: entity.theme_config
        optional: true
    outputs:
      - name: html
        type: string
        semantics: [valid_html, responsive_layout, accessibility_score]
        constraints:
          - "Must include all required sections"
          - "Must be mobile responsive"
          - "Must use semantic HTML5"
          - "Must have proper heading hierarchy (h1, h2, h3)"
    test_data: "test-data/sample-resume.json"
